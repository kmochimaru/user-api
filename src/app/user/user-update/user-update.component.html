<div class="container">
  <div class="mat-dialog-header"><h2 mat-dialog-title>Update user id: {{ user.id }}</h2></div>
  <form (ngSubmit)="onSubmit()">
    <mat-dialog-content>
      <mat-form-field>
        <input matInput placeholder="First Name" [formControl]="firstNameFormControl" name="first_name" id="first_name" [errorStateMatcher]="matcher"
          [(ngModel)]="user.first_name" required>
        <mat-error *ngIf='firstNameFormControl.hasError("required")'>
          First Name is
          <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Last Name" [formControl]="lastNameFormControl" name="last_name" id="last_name" [errorStateMatcher]="matcher"
          [(ngModel)]="user.last_name" required>
        <mat-error *ngIf='lastNameFormControl.hasError("required")'>
          Last Name is
          <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Email" name="email" id="email" [formControl]="emailFormControl" [errorStateMatcher]="matcher"
          [(ngModel)]="user.email" required>
        <mat-error *ngIf='emailFormControl.hasError("email") && !emailFormControl.hasError("required")'>
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is
          <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="password" name="password" id="password" placeholder="Password" [formControl]="passwordFormControl"
          [errorStateMatcher]="matcher" [type]="hide? 'password':'text'" [(ngModel)]="user.password" required>
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
        <mat-error *ngIf='lastNameFormControl.hasError("required")'>
          Password is
          <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </mat-dialog-content>
    <mat-dialog-actions>
      <button mat-button class="btn-success" type="submit">Update</button>
      <button mat-button class="btn-cancel" mat-dialog-close>Close</button>
    </mat-dialog-actions>
  </form>
</div>